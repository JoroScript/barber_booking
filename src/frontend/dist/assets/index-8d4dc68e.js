import{j as e,F as k,a}from"./ui-ec1ac337.js";import{R as c,a as L,b as C,r as u,B as P,d as S,e as h}from"./vendor-2ad05ed5.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&m(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}})();const _="modulepreload",A=function(o){return"/"+o},g={},f=function(n,s,m){if(!s||s.length===0)return n();const l=document.getElementsByTagName("link");return Promise.all(s.map(r=>{if(r=A(r),r in g)return;g[r]=!0;const i=r.endsWith(".css"),N=i?'[rel="stylesheet"]':"";if(!!m)for(let p=l.length-1;p>=0;p--){const b=l[p];if(b.href===r&&(!i||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${N}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":_,i||(d.as="script",d.crossOrigin=""),d.href=r,document.head.appendChild(d),i)return new Promise((p,b)=>{d.addEventListener("load",p),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})};window.React=c;window.useState=c.useState;window.useEffect=c.useEffect;window.useContext=c.useContext;window.useCallback=c.useCallback;window.useMemo=c.useMemo;window.useRef=c.useRef;const t=L;console.log("React loader: React version:",t.version);console.log("React loader: React is available:",!!t);console.log("React loader: useState is available:",!!t.useState);typeof window<"u"&&(window.React=t,window.useState=function(...o){if(!t.useState)throw console.error("React.useState is not available"),new Error("React.useState is not available");return t.useState.apply(t,o)},window.useEffect=function(...o){if(!t.useEffect)throw console.error("React.useEffect is not available"),new Error("React.useEffect is not available");return t.useEffect.apply(t,o)},window.useContext=function(...o){if(!t.useContext)throw console.error("React.useContext is not available"),new Error("React.useContext is not available");return t.useContext.apply(t,o)},window.useCallback=function(...o){if(!t.useCallback)throw console.error("React.useCallback is not available"),new Error("React.useCallback is not available");return t.useCallback.apply(t,o)},window.useMemo=function(...o){if(!t.useMemo)throw console.error("React.useMemo is not available"),new Error("React.useMemo is not available");return t.useMemo.apply(t,o)},window.useRef=function(...o){if(!t.useRef)throw console.error("React.useRef is not available"),new Error("React.useRef is not available");return t.useRef.apply(t,o)},window.useReducer=function(...o){if(!t.useReducer)throw console.error("React.useReducer is not available"),new Error("React.useReducer is not available");return t.useReducer.apply(t,o)},window.createContext=function(...o){if(!t.createContext)throw console.error("React.createContext is not available"),new Error("React.createContext is not available");return t.createContext.apply(t,o)},window.isReactLoaded=function(){return!!t&&!!t.useState},window.ensureReactLoaded=function(){if(!window.isReactLoaded())throw console.error("React is not properly loaded"),new Error("React is not properly loaded");return!0},console.log("React loader: React is properly loaded and available globally"));const E=Object.freeze(Object.defineProperty({__proto__:null,default:t},Symbol.toStringTag,{value:"Module"})),v=({children:o})=>(c.useEffect(()=>{console.log("ReactProvider mounted, React is available")},[]),e(k,{children:o}));var w,x=C;w=x.createRoot,x.hydrateRoot;const B=()=>e("header",{className:"bg-gray-900 text-white p-4",children:a("div",{className:"container mx-auto flex justify-between items-center",children:[e("h1",{className:"text-xl font-bold",children:"Barber Shop"}),e("nav",{children:a("ul",{className:"flex space-x-4",children:[e("li",{children:e("a",{href:"/",className:"hover:text-amber-500",children:"Home"})}),e("li",{children:e("a",{href:"/booking",className:"hover:text-amber-500",children:"Book Now"})})]})})]})}),T=()=>e("footer",{className:"bg-gray-900 text-white p-4 mt-auto",children:e("div",{className:"container mx-auto text-center",children:e("p",{children:"Â© 2023 Barber Shop. All rights reserved."})})}),I=()=>a("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-3xl font-bold mb-6",children:"Welcome to our Barber Shop"}),e("p",{className:"mb-4",children:"We provide the best haircuts and beard trims in town."}),e("a",{href:"/booking",className:"inline-block bg-amber-500 text-black px-6 py-2 rounded hover:bg-amber-600 transition-colors",children:"Book an Appointment"})]}),M=()=>a("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-3xl font-bold mb-6",children:"Book an Appointment"}),e("p",{className:"mb-4",children:"Please use our calendar to book your appointment."}),e("a",{href:"/calendar",className:"inline-block bg-amber-500 text-black px-6 py-2 rounded hover:bg-amber-600 transition-colors",children:"Open Calendar"})]}),O=()=>a("div",{className:"container mx-auto p-4",children:[e("h1",{className:"text-3xl font-bold mb-6",children:"Calendar"}),e("p",{children:"This is a placeholder for the calendar component."}),e("div",{className:"mt-4",children:e("a",{href:"/booking",className:"inline-block bg-gray-700 text-white px-6 py-2 rounded hover:bg-gray-800 transition-colors mr-4",children:"Back"})})]}),j=()=>a("div",{className:"container mx-auto p-4 max-w-md",children:[e("h1",{className:"text-3xl font-bold mb-6",children:"Login"}),a("form",{className:"space-y-4",children:[a("div",{children:[e("label",{className:"block mb-1",children:"Email"}),e("input",{type:"email",className:"w-full p-2 border rounded"})]}),a("div",{children:[e("label",{className:"block mb-1",children:"Password"}),e("input",{type:"password",className:"w-full p-2 border rounded"})]}),e("button",{type:"submit",className:"w-full bg-amber-500 text-black px-6 py-2 rounded hover:bg-amber-600 transition-colors",children:"Login"})]})]}),D=()=>a("div",{className:"container mx-auto p-4 max-w-md",children:[e("h1",{className:"text-3xl font-bold mb-6",children:"Register"}),a("form",{className:"space-y-4",children:[a("div",{children:[e("label",{className:"block mb-1",children:"Name"}),e("input",{type:"text",className:"w-full p-2 border rounded"})]}),a("div",{children:[e("label",{className:"block mb-1",children:"Email"}),e("input",{type:"email",className:"w-full p-2 border rounded"})]}),a("div",{children:[e("label",{className:"block mb-1",children:"Password"}),e("input",{type:"password",className:"w-full p-2 border rounded"})]}),e("button",{type:"submit",className:"w-full bg-amber-500 text-black px-6 py-2 rounded hover:bg-amber-600 transition-colors",children:"Register"})]})]}),F=()=>a("div",{className:"container mx-auto p-4 text-center",children:[e("h1",{className:"text-3xl font-bold mb-6",children:"404 - Page Not Found"}),e("p",{className:"mb-4",children:"The page you are looking for does not exist."}),e("a",{href:"/",className:"inline-block bg-amber-500 text-black px-6 py-2 rounded hover:bg-amber-600 transition-colors",children:"Go Home"})]}),V=c.createContext(),H=({children:o})=>{const[n,s]=u.useState(!1),[m,l]=u.useState(null),[r,i]=u.useState(!1);return e(V.Provider,{value:{isAuthenticated:n,user:m,loading:r},children:o})},W=c.createContext(),$=({children:o})=>e(W.Provider,{value:{},children:o});class q extends c.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,s){console.error("Error caught by ErrorBoundary:",n,s),this.setState({error:n,errorInfo:s})}render(){return this.state.hasError?a("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:[e("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),e("p",{className:"mb-4",children:"We're sorry, but there was an error loading this page."}),this.state.error&&a("div",{className:"bg-gray-800 p-4 rounded mb-4 max-w-2xl overflow-auto",children:[e("p",{className:"font-bold",children:"Error:"}),e("p",{className:"text-red-400",children:this.state.error.toString()})]}),e("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-amber-500 text-black rounded hover:bg-amber-600 transition-colors",children:"Reload Page"})]}):this.props.children}}const U=()=>e("div",{id:"toast-container",className:"fixed bottom-4 right-4"});function R(){const[o,n]=u.useState(!1);return u.useEffect(()=>{window.isReactLoaded&&window.isReactLoaded()?(console.log("React is loaded in App component"),n(!0)):(console.error("React is not loaded in App component"),f(()=>Promise.resolve().then(()=>E),void 0).then(()=>{window.isReactLoaded&&window.isReactLoaded()?(console.log("React is now loaded in App component"),n(!0)):console.error("React is still not loaded in App component")}).catch(s=>{console.error("Error loading React loader in App component:",s)}))},[]),o?e(q,{children:e(H,{children:a($,{children:[e(P,{children:a("div",{className:"flex flex-col min-h-screen",children:[e(B,{}),e("main",{className:"flex-grow",children:a(S,{children:[e(h,{path:"/",element:e(I,{})}),e(h,{path:"/booking",element:e(M,{})}),e(h,{path:"/calendar",element:e(O,{})}),e(h,{path:"/login",element:e(j,{})}),e(h,{path:"/register",element:e(D,{})}),e(h,{path:"*",element:e(F,{})})]})}),e(T,{})]})}),e(U,{})]})})}):e("div",{className:"flex items-center justify-center h-screen w-screen bg-gray-900",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-500"})})}const y=()=>{if(window.performance){const o=window.performance.getEntriesByType("navigation");if(o.length>0){const n=o[0];console.log(`App loaded in: ${Math.round(n.domComplete-n.startTime)}ms`)}}};typeof window<"u"&&window.isReactLoaded&&window.isReactLoaded()?(console.log("React is loaded, rendering app"),w(document.getElementById("root")).render(e(u.StrictMode,{children:e(v,{children:e(R,{})})})),window.addEventListener("load",y)):(console.error("React is not loaded, cannot render app"),f(()=>Promise.resolve().then(()=>E),void 0).then(()=>{if(console.log("React loader loaded, checking if React is available"),typeof window<"u"&&window.isReactLoaded&&window.isReactLoaded())console.log("React is now loaded, rendering app"),w(document.getElementById("root")).render(e(u.StrictMode,{children:e(v,{children:e(R,{})})})),window.addEventListener("load",y);else{console.error("React is still not loaded, showing error message");const o=document.getElementById("root");o&&(o.innerHTML=`
          <div style="display: flex; align-items: center; justify-content: center; height: 100vh; width: 100vw; background-color: #1f2937;">
            <div style="text-align: center; color: white;">
              <h1 style="margin-bottom: 20px;">Error Loading Application</h1>
              <p>There was an error loading React. Please try refreshing the page.</p>
              <button style="margin-top: 20px; padding: 10px 20px; background-color: #f59e0b; color: black; border: none; border-radius: 5px; cursor: pointer;" onclick="window.location.reload()">
                Refresh Page
              </button>
            </div>
          </div>
        `)}}).catch(o=>{console.error("Error loading React loader:",o);const n=document.getElementById("root");n&&(n.innerHTML=`
        <div style="display: flex; align-items: center; justify-content: center; height: 100vh; width: 100vw; background-color: #1f2937;">
          <div style="text-align: center; color: white;">
            <h1 style="margin-bottom: 20px;">Error Loading Application</h1>
            <p>There was an error loading React. Please try refreshing the page.</p>
            <button style="margin-top: 20px; padding: 10px 20px; background-color: #f59e0b; color: black; border: none; border-radius: 5px; cursor: pointer;" onclick="window.location.reload()">
              Refresh Page
            </button>
          </div>
        </div>
      `)}));window.addEventListener("load",()=>{"requestIdleCallback"in window&&requestIdleCallback(()=>{f(()=>import("./HomePage-0c911c92.js"),["assets/HomePage-0c911c92.js","assets/ui-ec1ac337.js","assets/vendor-2ad05ed5.js","assets/HomePage-13b2b50f.css"]),f(()=>import("./CalendarComponent-29e3fd83.js"),["assets/CalendarComponent-29e3fd83.js","assets/ui-ec1ac337.js","assets/vendor-2ad05ed5.js","assets/CalendarComponent-f017fbc2.css"])})});console.log("Environment variables:",{VITE_API_URL:"https://barberbooking-production.up.railway.app"});
//# sourceMappingURL=index-8d4dc68e.js.map
